(kicad_sch (version 20230121) (generator eeschema)

  (uuid a6fa03fd-ee38-4f85-bab4-f0d189a4a920)

  (paper "A4")

  (title_block
    (title "Power Supplies")
    (rev "A")
    (company "Sebastian Oberschwendtner")
    (comment 1 "OTP-24 oTrain Control - Rail Transceiver")
    (comment 2 "www.github.com/SebastianOberschwendtner/OTP24-oTrainControl")
  )

  (lib_symbols
    (symbol "Device:C" (pin_numbers hide) (pin_names (offset 0.254)) (in_bom yes) (on_board yes)
      (property "Reference" "C" (at 0.635 2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "C" (at 0.635 -2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (at 0.9652 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "cap capacitor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Unpolarized capacitor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "C_*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "C_0_1"
        (polyline
          (pts
            (xy -2.032 -0.762)
            (xy 2.032 -0.762)
          )
          (stroke (width 0.508) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.032 0.762)
            (xy 2.032 0.762)
          )
          (stroke (width 0.508) (type default))
          (fill (type none))
        )
      )
      (symbol "C_1_1"
        (pin passive line (at 0 3.81 270) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Regulator_Linear:LF33_TO252" (pin_names (offset 0.254)) (in_bom yes) (on_board yes)
      (property "Reference" "U" (at -3.81 3.175 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "LF33_TO252" (at 0 3.175 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "Package_TO_SOT_SMD:TO-252-2" (at 0 5.715 0)
        (effects (font (size 1.27 1.27) italic) hide)
      )
      (property "Datasheet" "http://www.st.com/content/ccc/resource/technical/document/datasheet/c4/0e/7e/2a/be/bc/4c/bd/CD00000546.pdf/files/CD00000546.pdf/jcr:content/translations/en.CD00000546.pdf" (at 0 -1.27 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "LDO regulator voltage" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Low-drop Voltage Regulator, Io up to 500mA, Fixed Vo 3.3V, TO-252 (DPAK)" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "TO?252*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "LF33_TO252_0_1"
        (rectangle (start -5.08 1.905) (end 5.08 -5.08)
          (stroke (width 0.254) (type default))
          (fill (type background))
        )
      )
      (symbol "LF33_TO252_1_1"
        (pin power_in line (at -7.62 0 0) (length 2.54)
          (name "VI" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at 0 -7.62 90) (length 2.54)
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin power_out line (at 7.62 0 180) (length 2.54)
          (name "VO" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "global power" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:PWR_FLAG" (power) (pin_numbers hide) (pin_names (offset 0) hide) (in_bom yes) (on_board yes)
      (property "Reference" "#FLG" (at 0 1.905 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "PWR_FLAG" (at 0 3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "flag power" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Special symbol for telling ERC where power comes from" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "PWR_FLAG_0_0"
        (pin power_out line (at 0 0 90) (length 0)
          (name "pwr" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
      (symbol "PWR_FLAG_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 1.27)
            (xy -1.016 1.905)
            (xy 0 2.54)
            (xy 1.016 1.905)
            (xy 0 1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
    )
  )

  (junction (at 165.1 101.6) (diameter 0) (color 0 0 0 0)
    (uuid 11c5e2c0-fa93-4e0d-83e0-89601491fe69)
  )
  (junction (at 133.35 101.6) (diameter 0) (color 0 0 0 0)
    (uuid 6067f146-4e0f-49b2-8b42-f9bf9acef6fc)
  )
  (junction (at 152.4 118.11) (diameter 0) (color 0 0 0 0)
    (uuid aabd7264-d10b-41be-95dd-8e099ce2021f)
  )

  (wire (pts (xy 165.1 114.3) (xy 165.1 118.11))
    (stroke (width 0) (type default))
    (uuid 054310fe-71e3-471f-b5cb-66e41d05dac0)
  )
  (wire (pts (xy 133.35 101.6) (xy 144.78 101.6))
    (stroke (width 0) (type default))
    (uuid 2feabaad-de75-4ad3-9b3c-d87fca109196)
  )
  (wire (pts (xy 160.02 101.6) (xy 165.1 101.6))
    (stroke (width 0) (type default))
    (uuid 395a27e2-b8e2-427a-a170-cbaaca2bc3d7)
  )
  (wire (pts (xy 152.4 118.11) (xy 152.4 120.65))
    (stroke (width 0) (type default))
    (uuid 3ebd36e5-6c2d-4f79-9750-b44bb494cf94)
  )
  (wire (pts (xy 152.4 118.11) (xy 152.4 109.22))
    (stroke (width 0) (type default))
    (uuid 4a49fcfe-bea4-45bf-ac55-39eeed34fb58)
  )
  (wire (pts (xy 165.1 101.6) (xy 165.1 106.68))
    (stroke (width 0) (type default))
    (uuid 4cd3d666-e6b4-424d-8e80-874fff1d7d0e)
  )
  (wire (pts (xy 165.1 101.6) (xy 177.8 101.6))
    (stroke (width 0) (type default))
    (uuid a2c2fd95-f424-4566-a193-6b61ccaa044c)
  )
  (wire (pts (xy 152.4 118.11) (xy 165.1 118.11))
    (stroke (width 0) (type default))
    (uuid d064128c-7795-4419-b07e-d3a39d3b11bc)
  )
  (wire (pts (xy 101.6 101.6) (xy 133.35 101.6))
    (stroke (width 0) (type default))
    (uuid ec4e839f-ab9d-4893-bee5-1fe752ee7194)
  )

  (text_box "Input capacitor already included in the rail filter!"
    (at 127 106.68 0) (size 19.05 7.62)
    (stroke (width 0) (type default))
    (fill (type none))
    (effects (font (size 1.27 1.27)) (justify left top))
    (uuid 9e49b118-535d-4232-8aa5-d5ec90f24811)
  )

  (text "Input: 4 - 16V" (at 109.22 100.33 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 919e7a14-8692-4451-9c99-f1d6a0828748)
  )

  (hierarchical_label "+3V3" (shape output) (at 177.8 101.6 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 48d0fd7b-1918-4751-b8a8-0158d186fd99)
  )
  (hierarchical_label "DC_Rail" (shape input) (at 101.6 101.6 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 4daafabf-b681-4b9e-8e4e-6cefe1d28f0e)
  )

  (symbol (lib_id "Device:C") (at 165.1 110.49 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 135f0e5b-f209-443f-a704-fbd6811fff31)
    (property "Reference" "C13" (at 168.91 109.22 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "2.2u" (at 168.91 111.76 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Capacitor_SMD:C_0805_2012Metric_Pad1.18x1.45mm_HandSolder" (at 166.0652 114.3 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 165.1 110.49 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid cc6a3b87-3f51-4db6-824e-ee42a4f16ed5))
    (pin "2" (uuid 4d6bccbe-c84d-4af2-8443-9d6c51133fb0))
    (instances
      (project "rail_transceiver"
        (path "/d24f4f85-2470-4388-bfa9-81aa781b1d47/8c758932-540e-4c52-b482-5b1422bd3039"
          (reference "C13") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:PWR_FLAG") (at 133.35 101.6 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 2dad73e4-2e7e-4d26-9c87-fc7a97f45807)
    (property "Reference" "#FLG02" (at 133.35 99.695 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "PWR_FLAG" (at 133.35 96.52 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 133.35 101.6 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 133.35 101.6 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid b2ecb60e-e165-453d-acbe-0ff0eaf417fe))
    (instances
      (project "rail_transceiver"
        (path "/d24f4f85-2470-4388-bfa9-81aa781b1d47/8c758932-540e-4c52-b482-5b1422bd3039"
          (reference "#FLG02") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:PWR_FLAG") (at 152.4 118.11 90) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 4e9c03fa-c37b-45b4-9e44-50304698a129)
    (property "Reference" "#FLG01" (at 150.495 118.11 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "PWR_FLAG" (at 148.59 118.11 90)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (at 152.4 118.11 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 152.4 118.11 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid b2ecb60e-e165-453d-acbe-0ff0eaf417ff))
    (instances
      (project "rail_transceiver"
        (path "/d24f4f85-2470-4388-bfa9-81aa781b1d47/8c758932-540e-4c52-b482-5b1422bd3039"
          (reference "#FLG01") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:GND") (at 152.4 120.65 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid d7f08592-6027-40e4-928f-d124b46a6577)
    (property "Reference" "#PWR019" (at 152.4 127 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (at 152.4 125.73 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 152.4 120.65 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 152.4 120.65 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 1d74a18b-c847-452a-8dbe-0f65c0ff2041))
    (instances
      (project "rail_transceiver"
        (path "/d24f4f85-2470-4388-bfa9-81aa781b1d47/8c758932-540e-4c52-b482-5b1422bd3039"
          (reference "#PWR019") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Regulator_Linear:LF33_TO252") (at 152.4 101.6 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid de0f119b-f71b-47d2-a1f9-1a934c35af52)
    (property "Reference" "U3" (at 152.4 95.25 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "LF33_TO252" (at 152.4 97.79 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Package_TO_SOT_SMD:TO-252-2" (at 152.4 95.885 0)
      (effects (font (size 1.27 1.27) italic) hide)
    )
    (property "Datasheet" "http://www.st.com/content/ccc/resource/technical/document/datasheet/c4/0e/7e/2a/be/bc/4c/bd/CD00000546.pdf/files/CD00000546.pdf/jcr:content/translations/en.CD00000546.pdf" (at 152.4 102.87 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "3" (uuid 0fbdb459-3418-47a9-b989-5baa9f3ebe40))
    (pin "1" (uuid 196446f3-8f7a-40ae-afcb-6bcef4abec84))
    (pin "2" (uuid b742e89b-9280-4fb6-9663-e8b6ed4ac80d))
    (instances
      (project "rail_transceiver"
        (path "/d24f4f85-2470-4388-bfa9-81aa781b1d47/8c758932-540e-4c52-b482-5b1422bd3039"
          (reference "U3") (unit 1)
        )
      )
    )
  )
)
